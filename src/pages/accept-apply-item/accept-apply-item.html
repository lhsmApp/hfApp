<!--
  Generated template for the AcceptApplyItemPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="dark">
    <ion-title>验收申请</ion-title>
    <ion-buttons end>
      <button ion-button icon-right (click)="send()">
        送审
        <ion-icon name="paper-plane"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content >
	<form [formGroup]="applyFrom" (ngSumbit)="(save())">
        <ion-item-group>
            <ion-item >
                <ion-label fixed>合同流水号</ion-label>
                <ion-input type="text" readonly formControlName="contractCodeAcceptApply" 
                           placeholder="选择" (click)="choiceContract()"></ion-input>
            </ion-item>
            <span *ngIf="!applyFrom.controls.contractCodeAcceptApply.valid && applyFrom.controls.contractCodeAcceptApply.touched"
                  class="validation-failed">
                请选择合同流水号
            </span>
            <ion-item >
                <ion-label fixed>合同名称</ion-label>
                <ion-input type="text" readonly formControlName="contractNameAcceptApply" placeholder="自动带出"></ion-input>
            </ion-item>
            <ion-item >
                <ion-label fixed>项目性质</ion-label>
                <ion-input type="text" readonly formControlName="projTypeAcceptApply" placeholder="自动带出"></ion-input>
            </ion-item>
            <ion-item >
                <ion-label fixed>项目单元名称</ion-label>
                <ion-input type="text" readonly formControlName="projPartNameAcceptApply" 
                    placeholder="自动带出"></ion-input>
            </ion-item>
            <ion-item>
                <ion-label fixed>申请单位</ion-label>
                <ion-select formControlName="applyDepartAcceptApply">
                    <ion-option value="1">单位1</ion-option>
                    <ion-option value="2">单位2</ion-option>
                    <ion-option value="3">单位3</ion-option>
                    <ion-option value="4">单位4</ion-option>
                </ion-select>
            </ion-item>
            <span *ngIf="!applyFrom.controls.applyDepartAcceptApply.valid && applyFrom.controls.applyDepartAcceptApply.touched"
                  class="validation-failed">
                请选择申请单位
            </span>
            <ion-item >
                <ion-label fixed>申请时间</ion-label>
                <ion-input type="text" readonly formControlName="applyTimeAcceptApply"></ion-input>
            </ion-item>
            <span *ngIf="!applyFrom.controls.applyTimeAcceptApply.valid && applyFrom.controls.applyTimeAcceptApply.touched"
                  class="validation-failed">
                申请时间不能为空
            </span>
            <ion-item >
                <ion-label fixed>申请人</ion-label>
                <ion-input type="text" readonly formControlName="applyAcceptApply"></ion-input>
            </ion-item>
            <span *ngIf="!applyFrom.controls.applyAcceptApply.valid && applyFrom.controls.applyAcceptApply.touched"
                  class="validation-failed">
                申请人不能为空
            </span>
            <!-- 资产明细 -->
            <ion-item-divider color="light"></ion-item-divider>
            <ion-item (click)='toAssetDetail()'>资产明细 <ion-icon name="more" item-end></ion-icon></ion-item>
            <ion-item-divider color="light"></ion-item-divider>
		</ion-item-group>

	</form>
</ion-content>

<ion-footer>
    <ion-toolbar>
        <div padding-horizontal>
            <button ion-button color="danger" block type="submit" [disabled]="!applyFrom.valid">保 存</button>
        </div>
    </ion-toolbar>
</ion-footer>
